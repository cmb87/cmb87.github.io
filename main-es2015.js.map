{"version":3,"sources":["./src/app/services/objecthandler.service.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/services/draw-measurement.service.ts","./src/app/app.module.ts","./src/app/services/draw-line.service.ts","./src/app/components/polygon-drawer/polygon-drawer.component.ts","./src/app/components/polygon-drawer/polygon-drawer.component.html","./src/app/services/draw-polygon.service.ts","./src/app/app-routing.module.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { LineService } from './draw-line.service';\nimport { PolygonService } from './draw-polygon.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ObjecthandlerService {\n\n  public objs = [];\n  private activeIdx: number;\n\n  public ax: number = 1.0;\n  public ay: number = 1.0;\n\n  // ---------------------------------\n  constructor(private ctx: CanvasRenderingContext2D, private type: string=\"line\"){\n    this.activeIdx=0;\n\n    switch(this.type) {\n      case \"polygon\":\n        this.objs.push(new PolygonService(this.ctx, this.ax, this.ay));\n        break;\n      case \"line\":\n        this.objs.push(new LineService(this.ctx, this.ax, this.ay));\n        break;\n    }\n\n  }\n  // ---------------------------------\n  add() {\n    this.activeIdx +=1;\n\n    switch(this.type) {\n      case \"polygon\":\n        this.objs.push(new PolygonService(this.ctx, this.ax, this.ay));\n        break;\n      case \"line\":\n        this.objs.push(new LineService(this.ctx, this.ax, this.ay));\n        break;\n    }\n  }\n  // ---------------------------------\n  available(){\n    if (this.objs.length > 0) {\n      return true;\n    }\n    return false;\n  }\n  // ---------------------------------\n  updateScaleFactors(ax: number, ay: number) {\n    this.ax = ax;\n    this.ay = ay;\n    this.objs.forEach(function (polygon, index) {\n      polygon.setScaleFactors(ax, ay);\n      polygon.update();\n    });\n  }\n  // ---------------------------------\n  remove() {\n    if (this.objs.length > 0) {\n      this.objs.pop();\n      this.activeIdx -=1;\n    }\n\n    // To avoid an empty list\n    if (this.objs.length == 0) this.add();\n\n  }\n  // ---------------------------------\n  getCurrentActive() {\n    return this.objs[this.activeIdx]\n  }\n\n}\n  \n  ","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'smartArchitecture';\n}\n","<nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\n<a class=\"navbar-brand\" href=\"#\">SmartArchitecture</a>\n<button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\" aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n    <span class=\"navbar-toggler-icon\"></span>\n</button>\n<div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n    <div class=\"navbar-nav\">\n    <!-- <a class=\"nav-item nav-link active\" href=\"#\">Home <span class=\"sr-only\">(current)</span></a>\n    <a class=\"nav-item nav-link\" href=\"#\">Features</a> -->\n    </div>\n</div>\n</nav>\n<div class=\"container\">\n    \n\n    <nav>\n        <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n          <a class=\"nav-item nav-link active\" id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Basement</a>\n          <a class=\"nav-item nav-link\" id=\"nav-first-tab\" data-toggle=\"tab\" href=\"#nav-first\" role=\"tab\" aria-controls=\"nav-first\" aria-selected=\"false\">First Floor</a>\n          <a class=\"nav-item nav-link\" id=\"nav-second-tab\" data-toggle=\"tab\" href=\"#nav-second\" role=\"tab\" aria-controls=\"nav-second\" aria-selected=\"false\">First Floor</a>\n          <a class=\"nav-item nav-link\" id=\"nav-view-tab\" data-toggle=\"tab\" href=\"#nav-side\" role=\"tab\" aria-controls=\"nav-side\" aria-selected=\"false\">First Floor</a>\n        </div>\n      </nav>\n      <div class=\"tab-content\" id=\"nav-tabContent\">\n        <div class=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n            <app-polygon-drawer name=\"Basement\" imagePath=\"../assets/haus7.png\"></app-polygon-drawer>\n        </div>\n        <div class=\"tab-pane fade\" id=\"nav-first\" role=\"tabpanel\" aria-labelledby=\"nav-first-tab\">\n            <app-polygon-drawer name=\"FirstFloor\" imagePath=\"../assets/haus5.png\"></app-polygon-drawer>\n        </div>\n        <div class=\"tab-pane fade\" id=\"nav-second\" role=\"tabpanel\" aria-labelledby=\"nav-second-tab\">\n          <app-polygon-drawer name=\"SecondFloor\" imagePath=\"../assets/haus6.png\"></app-polygon-drawer>\n      </div>\n      <div class=\"tab-pane fade\" id=\"nav-side\" role=\"tabpanel\" aria-labelledby=\"nav-side-tab\">\n        <app-polygon-drawer name=\"SideView\" imagePath=\"../assets/haus3.png\"></app-polygon-drawer>\n    </div>\n      </div>\n\n</div>","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DrawMeasurementService {\n\n  private principalLength = 1.0;\n  private principalAxis = [];\n  private principalAxisSet = false;\n  public scaleFactor = 1.0;\n\n  constructor(\n    private ctx: CanvasRenderingContext2D, private color: string=\"#7CFC00\", \n    private direction: string=\"x\", private name: string=\"principal\") {\n\n    try {\n      var _settings = JSON.parse(localStorage.getItem('principal_'+this.name+\"_\"+this.direction));\n      this.principalAxisSet = _settings.principalAxisSet;\n      this.principalAxis = _settings.axis;\n      this.selectionDone();\n      this.draw();\n    } catch(e) {};\n\n  }\n  // -----------------------------\n  addPoint( x: number, y: number) {\n    if (this.principalAxisSet) {\n      return;\n    }\n    if (this.principalAxis.length<2) this.principalAxis.push([x,y]);\n    if (this.principalAxis.length==2) this.selectionDone();\n  }\n\n  // -----------------------------\n  setPrincipalLength(val: number){\n    this.principalLength = val;\n  }\n\n  // -----------------------------\n  reset() {\n    this.principalAxis = [];\n    this.principalLength = 1.0;\n    this.principalAxisSet = false;\n    this.scaleFactor = 1.0;\n    this._store2session();\n  }\n  // -----------------------------\n  selectionDone() {\n    if (this.principalAxis.length==2) {\n      var ds = 1.0;\n      switch(this.direction) {\n        case \"x\":\n          this.principalAxis[1][1] = this.principalAxis[0][1];\n          ds = Math.abs(this.principalAxis[1][0] - this.principalAxis[0][0]);\n          break;\n        case \"y\":\n          this.principalAxis[1][0] = this.principalAxis[0][0];\n          ds = Math.abs(this.principalAxis[1][1] - this.principalAxis[0][1]);\n          break\n      };\n  \n      // Calculate scale factor [m/pixels]\n      this.scaleFactor = this.principalLength/ds;\n      this.principalAxisSet = true;\n      this._store2session();\n      console.log(\"Principal axis set!\")\n    }\n  }\n\n  // -----------------------------\n  draw(){\n\n    if (this.principalAxis.length>0) {\n     \n\n      this.ctx.strokeStyle = this.color;\n      this.ctx.lineWidth = 3;\n      this.ctx.setLineDash([]);\n      this.ctx.beginPath();\n\n      this.ctx.moveTo(this.principalAxis[0][0], this.principalAxis[0][1]);\n      this.ctx.fillRect(this.principalAxis[0][0] , this.principalAxis[0][1], 1, 1);\n\n      for ( var i=1 ; i < this.principalAxis.length ; i+=1 ){\n        this.ctx.lineTo(this.principalAxis[i][0], this.principalAxis[i][1]);\n        this.ctx.fillRect(this.principalAxis[i][0] , this.principalAxis[i][1], 1, 1);\n      }\n      this.ctx.stroke(); \n    } \n  } \n  // -----------------------------\n  private _store2session(){\n    // Store axis to session\n    var _settings = {\n      axis: this.principalAxis,\n      principalAxisSet: true,\n    }\n    localStorage.setItem('principal_'+this.name+\"_\"+this.direction, JSON.stringify(_settings)); \n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { PolygonDrawerComponent } from './components/polygon-drawer/polygon-drawer.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    PolygonDrawerComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgbModule,\n    FormsModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LineService {\n\n  public points = [];\n  public pointsReal = [];\n\n  private done: Boolean=false;\n  private initialized: Boolean = false;\n  private pointSize: number = 5;\n  private color: string;\n  public length: number = 0.0;\n  \n  constructor(private ctx: CanvasRenderingContext2D, private ax: number=1.0, private ay:number=1.0){\n    var r =  Math.floor(Math.random() * 255);\n    var g =  Math.floor(Math.random() * 255);\n    var b =  Math.floor(Math.random() * 255);\n    this.color = \"rgb(\"+r+\" ,\"+g+\", \"+b+\")\";\n  }\n\n  addPoint( x: number, y: number) {\n    this.points.push([x,y]);\n    this.initialized = true;\n  }\n  // -----------------------------\n  draw(){\n\n    if (this.initialized) {\n\n      this.ctx.strokeStyle = this.color;\n      this.ctx.fillStyle = this.color;\n      this.ctx.setLineDash([]);\n      this.ctx.lineWidth = 5;\n      this.ctx.beginPath();\n\n      this.ctx.moveTo(this.points[0][0], this.points[0][1]);\n      this.ctx.fillRect(this.points[0][0] , this.points[0][1], this.pointSize, this.pointSize);\n\n      for ( var i=1 ; i < this.points.length ; i+=1 ){\n        this.ctx.lineTo( this.points[i][0] , this.points[i][1] )\n        this.ctx.fillRect(this.points[i][0] , this.points[i][1], this.pointSize, this.pointSize);\n      }\n\n      if (this.done) {\n        var mean = this._calcMean();\n        this.ctx.fillStyle = \"rgb(0,0,0)\";\n        this.ctx.font = \"20px Arial\";\n        this.ctx.fillText(this.length.toFixed(2)+\"m\", mean[0], mean[1]); \n      }\n      this.ctx.stroke(); \n    } \n\n  } \n  // -----------------------------\n  selectionDone(){\n    this.done = true;\n    this.update();\n  }\n  // -----------------------------\n  reset(){\n    this.initialized = false;\n    this.points = [];\n  }\n  // -----------------------------\n  getVertices(){\n    return this.pointsReal;\n  }\n\n  // -----------------------------\n  setScaleFactors(ax: number, ay:number) {\n    this.ax = ax;\n    this.ay = ay;\n    console.log(ax, ay);\n  }\n  // -----------------------------\n  update() {\n    if (this.done) {\n      this._calcLineInRealUnit();\n      this.length = this._calcLineLength();\n    }\n  }\n  // -----------------------------\n  private _calcLineInRealUnit() {\n    this.pointsReal = [];\n    for (var i = 0, l = this.points.length; i < l; i++) {\n      this.pointsReal.push([this.points[i][0]*this.ax, this.points[i][1]*this.ay])\n    }\n  };\n  // -----------------------------\n  private _calcLineLength() {\n    var total = 0;\n\n    for (var i = 0, l = this.pointsReal.length; i < l-1; i++) {\n      var dx = this.pointsReal[i+1][0]-this.pointsReal[i][0];\n      var dy = this.pointsReal[i+1][1]-this.pointsReal[i][1];\n      var ds = Math.sqrt(Math.pow(dx,2) + Math.pow(dy,2));\n      total += ds;\n    }\n    return total;\n  }\n  // -----------------------------\n  private _calcMean() {\n    var mean = [0.0, 0.0]\n    var npts = this.points.length;\n    this.points.forEach(function (point, index) {\n      mean[0] += point[0]/npts;\n      mean[1] += point[1]/npts;\n    });\n\n    return mean;\n  }\n  // -----------------------------\n\n}","import { Component, OnInit, ViewChild, ElementRef, Input } from '@angular/core';\nimport { ObjecthandlerService } from '../../services/objecthandler.service';\nimport { DrawMeasurementService } from '../../services/draw-measurement.service';\n\n\n@Component({\n  selector: 'app-polygon-drawer',\n  templateUrl: './polygon-drawer.component.html',\n  styleUrls: ['./polygon-drawer.component.css']\n})\nexport class PolygonDrawerComponent implements OnInit {\n\n  private polygonDrawer;\n  private lineDrawer;\n  private principalx;\n  private principaly;\n\n  @ViewChild('canvas', {static: true})\n  private canvas: ElementRef<HTMLCanvasElement>;\n  private ctx: CanvasRenderingContext2D;\n\n  private image = new Image();\n\n  @Input()\n  public name: string = \"basement\";\n\n  @Input()\n  public imagePath: string = \"../assets/basement.jpg\";\n\n  public height: number = 1200;\n  public width: number = 800;\n\n  dx: number = 1.0;\n  dy: number = 1.0;\n\n  selectionMode: string = \"principalx\";\n\n  // ---------------------------------\n  constructor() {}\n\n  // ---------------------------------\n  ngOnInit() {\n\n    // Canvas Polygon and Image\n    this.ctx = this.canvas.nativeElement.getContext('2d');\n    this.polygonDrawer = new ObjecthandlerService(this.ctx, \"polygon\");\n    this.lineDrawer = new ObjecthandlerService(this.ctx, \"line\");\n\n    // Principal Axis\n    this.principalx = new DrawMeasurementService(this.ctx, \"#7CFC00\", \"x\", this.name);\n    this.principaly = new DrawMeasurementService(this.ctx, \"#FF0000\", \"y\", this.name);\n\n    try {\n      var _settings = JSON.parse(localStorage.getItem('sketcher_'+this.name));\n      this.dx = _settings.dx;\n      this.dy = _settings.dy;\n\n      this.principalx.setPrincipalLength(this.dx);\n      this.principaly.setPrincipalLength(this.dy);\n      this.principalx.selectionDone();\n      this.principaly.selectionDone();\n\n      this.polygonDrawer.updateScaleFactors(this.principalx.scaleFactor, this.principaly.scaleFactor);\n      this.lineDrawer.updateScaleFactors(this.principalx.scaleFactor, this.principaly.scaleFactor);\n\n    } catch(e) {};\n\n\n    \n    // Load background image for canvas\n    this._reloadImage()\n  }\n\n  // ---------------------------------\n  onRightClick(event): void {\n    event.preventDefault();\n\n    switch(this.selectionMode) {\n      case \"line\":\n        var obj = this.lineDrawer.getCurrentActive();\n        this.lineDrawer.add();\n        break;\n\n      case \"polygon\":\n        var obj = this.polygonDrawer.getCurrentActive();\n        this.polygonDrawer.add();\n        break;\n\n      case \"principalx\":\n        var obj = this.principalx;\n        break;\n\n      case \"principaly\":\n        var obj = this.principaly;\n        break;\n    }\n    obj.selectionDone();\n    obj.draw();\n  }\n  // ---------------------------------\n  onLengthChange(): void {\n    this.principalx.setPrincipalLength(this.dx);\n    this.principaly.setPrincipalLength(this.dy);\n    this.principalx.selectionDone();\n    this.principaly.selectionDone();\n    \n    this._store2session();\n\n    this.polygonDrawer.updateScaleFactors(this.principalx.scaleFactor, this.principaly.scaleFactor);\n    this.lineDrawer.updateScaleFactors(this.principalx.scaleFactor, this.principaly.scaleFactor);\n\n    this._reloadImage();\n\n  }\n\n  // ---------------------------------\n  onLeftClick(event): void {\n\n    // Modern browser's now handle this for you. Chrome, IE9, and Firefox\n    // support the offsetX/Y like this, passing in the event from the click handler.\n    // https://stackoverflow.com/questions/55677/how-do-i-get-the-coordinates-of-a-mouse-click-on-a-canvas-element\n\n\n    console.log(this.selectionMode);\n    var x = parseInt(event.offsetX);\n    var y = parseInt(event.offsetY);\n\n    switch(this.selectionMode) {\n      case \"principalx\":\n        this.principalx.addPoint(x, y);\n        this.principalx.draw();\n        break;\n      case \"principaly\":\n        this.principaly.addPoint(x, y);\n        this.principaly.draw();\n        break;\n      case \"polygon\":\n        var polygon = this.polygonDrawer.getCurrentActive();\n        polygon.addPoint(x, y);\n        polygon.draw();\n        break;\n      case \"line\":\n        var line = this.lineDrawer.getCurrentActive();\n        line.addPoint(x, y);\n        line.draw();\n        break;\n    }\n\n  }\n  // ---------------------------------\n  private _reloadImage() {\n\n    this.image.onload = () => {\n      this.ctx.drawImage(this.image,0,0, this.width, this.height);\n\n      this.principalx.draw();\n      this.principaly.draw();\n\n      this.polygonDrawer.objs.forEach(function (polygon, index) {\n        polygon.draw();\n      });\n\n      this.lineDrawer.objs.forEach(function (line, index) {\n        line.draw();\n      });\n\n    }\n    this.image.src = this.imagePath;\n\n\n  }\n  // ---------------------------------\n  remove(): void {\n\n    switch(this.selectionMode) {\n      case \"principalx\":\n        this.principalx.reset();\n        console.log(\"X axis removed!\");\n        break;\n      case \"principaly\":\n        this.principaly.reset();\n        console.log(\"Y axis removed!\");\n        break;\n      case \"polygon\":\n        this.polygonDrawer.remove();\n        console.log(\"Polygon removed!\");\n        break;\n      case \"line\":\n        this.lineDrawer.remove();\n        console.log(\"Line removed!\");\n        break;\n    }\n    this._reloadImage();\n  }\n\n  // -----------------------------\n  private _store2session(){\n    // Store axis to session\n    var _settings = {\n      dx: this.dx,\n      dy: this.dy,\n    }\n    localStorage.setItem('sketcher_'+this.name, JSON.stringify(_settings)); \n  }\n\n\n}\n","\n\n<div class=\"card mb-3\">\n\n  <div class=\"card-body\">\n    <h5 class=\"card-title\">{{ name }}</h5>\n\n    <div class=\"input-group mb-3\">\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"selectionType\">Mode</span>\n      </div>\n      <select [(ngModel)]=\"selectionMode\" id=\"typeselection\">\n        <option value=\"principalx\">Principal X</option>\n        <option value=\"principaly\">Principal Y</option>\n        <option value=\"polygon\">Area</option>\n        <option value=\"line\">Length</option>\n      </select>\n\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"scalex\">Ref X</span>\n      </div>\n      <input [(ngModel)]=\"dx\" type=\"number\" (change)=\"onLengthChange()\" min=\"0.01\" step=\"0.01\"> \n\n      <div class=\"input-group-prepend\">\n        <span class=\"input-group-text\" id=\"scaley\">Ref Y</span>\n      </div>\n      <input [(ngModel)]=\"dy\" type=\"number\" (change)=\"onLengthChange()\" min=\"0.01\" step=\"0.01\">\n\n      <button class=\"btn btn-danger\" id=\"send-btn\" (click)=\"remove()\">Remove</button>\n\n    </div>\n  </div>\n</div>\n  \n\n\n<canvas \n  [width]=\"width\"\n  [height]=\"height\" #canvas (click)=\"onLeftClick($event)\"\n  (contextmenu)=\"onRightClick($event)\" style=\"cursor: crosshair;\"\n  class=\"center\"\n></canvas>","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PolygonService {\n\n  public points = [];\n  public pointsReal = [];\n\n  private initialized: Boolean = false;\n  private done: Boolean = false;\n  private pointSize: number = 5;\n  private color: string;\n  private colorFill: string;\n  public area: number = 0.0;\n  \n  constructor(private ctx: CanvasRenderingContext2D, private ax: number=1.0, private ay:number=1.0){\n    var r =  Math.floor(Math.random() * 255);\n    var g =  Math.floor(Math.random() * 255);\n    var b =  Math.floor(Math.random() * 255);\n    this.color = \"rgb(\"+r+\" ,\"+g+\", \"+b+\")\";\n    this.colorFill = \"rgb(\"+r+\" ,\"+g+\", \"+b+\", 0.4)\";\n  }\n\n  addPoint( x: number, y: number) {\n    this.points.push([x,y]);\n    this.initialized = true;\n  }\n  // -----------------------------\n  draw(){\n\n    if (this.initialized) {\n\n      this.ctx.strokeStyle = this.color;\n      this.ctx.fillStyle = this.color;\n      this.ctx.lineWidth = 3;\n      this.ctx.beginPath();\n      this.ctx.setLineDash([5, 15]);\n      this.ctx.moveTo(this.points[0][0], this.points[0][1]);\n      this.ctx.fillRect(this.points[0][0] , this.points[0][1], this.pointSize, this.pointSize);\n\n      for ( var i=1 ; i < this.points.length ; i+=1 ){\n        this.ctx.lineTo( this.points[i][0] , this.points[i][1] )\n        this.ctx.fillRect(this.points[i][0] , this.points[i][1], this.pointSize, this.pointSize);\n      }\n      this.ctx.stroke();\n\n      if (this.done) {\n        this.ctx.fillStyle = this.colorFill;\n        this.ctx.beginPath();\n        this.ctx.moveTo(this.points[0][0], this.points[0][1]);\n        for ( var i=1 ; i < this.points.length ; i+=1 ){\n          this.ctx.lineTo( this.points[i][0] , this.points[i][1] )\n        }\n        this.ctx.closePath();\n        this.ctx.fill();\n  \n        var mean = this._calcMean();\n        this.ctx.fillStyle = \"rgb(0,0,0)\";\n        this.ctx.font = \"20px Arial\";\n        this.ctx.fillText(this.area.toFixed(2)+\"m2\", mean[0], mean[1]); \n      }\n    } \n\n  } \n  // -----------------------------\n  selectionDone(){\n    this.done = true;\n    this.update();\n  }\n  // -----------------------------\n  reset(){\n    this.initialized = false;\n    this.points = [];\n  }\n  // -----------------------------\n  getVertices(){\n    return this.pointsReal;\n  }\n\n  // -----------------------------\n  setScaleFactors(ax: number, ay:number) {\n    this.ax = ax;\n    this.ay = ay;\n    console.log(ax, ay);\n  }\n  // -----------------------------\n  update() {\n    if (this.done) {\n      this._calcPolygonInRealUnit();\n      this.area = this._calcPolygonArea();\n    }\n  }\n\n  // -----------------------------\n  private _calcPolygonInRealUnit() {\n    this.pointsReal = [];\n    for (var i = 0, l = this.points.length; i < l; i++) {\n      this.pointsReal.push([this.points[i][0]*this.ax, this.points[i][1]*this.ay])\n    }\n  };\n  // -----------------------------\n  private _calcPolygonArea() {\n    var total = 0;\n\n    for (var i = 0, l = this.pointsReal.length; i < l; i++) {\n      var addX = this.pointsReal[i][0];\n      var addY = this.pointsReal[i == this.pointsReal.length - 1 ? 0 : i + 1][1];\n      var subX = this.pointsReal[i == this.pointsReal.length - 1 ? 0 : i + 1][0];\n      var subY = this.pointsReal[i][1];\n\n      total += (addX * addY * 0.5);\n      total -= (subX * subY * 0.5);\n    }\n\n    return Math.abs(total);\n  }\n  // -----------------------------\n  private _calcMean() {\n    var mean = [0.0, 0.0]\n    var npts = this.points.length;\n    this.points.forEach(function (point, index) {\n      mean[0] += point[0]/npts;\n      mean[1] += point[1]/npts;\n    });\n\n    return mean;\n  }\n  // -----------------------------\n\n}\n\n\n\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}